/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _style = __webpack_require__(1);
	
	var _style2 = _interopRequireDefault(_style);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
	
	var CHF = [],
	    EUR = [],
	    USD = [];
	
	/* Get data */
	function getCurrency() {
	  fetch('./json/currency.json').then(function (response) {
	    if (response.status !== 200) {
	      console.log('Looks like there was a problem. Status Code:  \n          ' + response.status);
	    }
	    response.json().then(function (data) {
	      callback(data);
	    });
	  }).catch(function (err) {
	    console.log('Fetch Error :-S', err);
	  });
	}
	
	getCurrency();
	
	/* Ð¡reating arrays with currencies */
	function callback(data) {
	  data.map(function (arr) {
	    if (arr[0]) {
	      if (arr[0]['CHF']) {
	        CHF.push(arr[0]['CHF']);
	      } else if (arr[0]['USD']) {
	        USD.push(arr[0]['USD']);
	      } else if (arr[0]['EUR']) {
	        EUR.push(arr[0]['EUR']);
	      }
	    }
	    if (arr[1]) {
	      if (arr[1]['CHF']) {
	        CHF.push(arr[1]['CHF']);
	      } else if (arr[1]['USD']) {
	        USD.push(arr[1]['USD']);
	      } else if (arr[1]['EUR']) {
	        EUR.push(arr[1]['EUR']);
	      }
	    }
	    if (arr[2]) {
	      if (arr[2]['CHF']) {
	        CHF.push(arr[2]['CHF']);
	      } else if (arr[2]['USD']) {
	        USD.push(arr[2]['USD']);
	      } else if (arr[2]['EUR']) {
	        EUR.push(arr[2]['EUR']);
	      }
	    }
	  });
	
	  /* Creating arrays only with rates */
	  var ratesCHF = CHF.map(function (date) {
	    return date.rate;
	  });
	
	  var ratesUSD = USD.map(function (date) {
	    return date.rate;
	  });
	
	  var ratesEUR = EUR.map(function (date) {
	    return date.rate;
	  });
	
	  /* Calc min/max for currencies */
	  var minRateCHF = Math.min.apply(Math, _toConsumableArray(ratesCHF));
	  var maxRateCHF = Math.max.apply(Math, _toConsumableArray(ratesCHF));
	
	  var minRateEUR = Math.min.apply(Math, _toConsumableArray(ratesEUR));
	  var maxRateEUR = Math.max.apply(Math, _toConsumableArray(ratesEUR));
	
	  var minRateUSD = Math.min.apply(Math, _toConsumableArray(ratesUSD));
	  var maxRateUSD = Math.max.apply(Math, _toConsumableArray(ratesUSD));
	
	  /* Calc average */
	  var average = function average(arr) {
	    return arr.reduce(function (p, c) {
	      return p + c;
	    }, 0) / arr.length;
	  };
	
	  var avUSD = average([].concat(_toConsumableArray(ratesUSD)));
	  var avEUR = average([].concat(_toConsumableArray(ratesEUR)));
	  var avCHF = average([].concat(_toConsumableArray(ratesCHF)));
	
	  /* Find date */
	  var findDayRate = function findDayRate(arr, rate) {
	    var result = [];
	    for (var i = 0; i < arr.length - 1; i++) {
	      if (arr[i]['rate'] === rate) result.push(arr[i]['exchangedate']);
	    }
	    return result;
	  };
	
	  var datesMinEUR = findDayRate(EUR, minRateEUR);
	  var datesMinUSD = findDayRate(USD, minRateUSD);
	  var datesMinCHF = findDayRate(CHF, minRateCHF);
	
	  var datesMaxEUR = findDayRate(EUR, maxRateEUR);
	  var datesMaxUSD = findDayRate(USD, maxRateUSD);
	  var datesMaxCHF = findDayRate(CHF, maxRateCHF);
	
	  /* Find dates when exchange rate was within 5% on the average exchange rate */
	  var findDaysWithinAv5 = function findDaysWithinAv5(arr, averageVal) {
	    var min = averageVal - averageVal * 2.5 / 100;
	    var max = averageVal + averageVal * 2.5 / 100;
	    var result = [];
	    for (var i = 0; i < arr.length - 1; i++) {
	      var currentRate = arr[i]['rate'];
	      if (max > currentRate && currentRate > min) result.push(arr[i]['exchangedate']);
	    }
	    return result.length;
	  };
	
	  var datesAvUSD = findDaysWithinAv5(USD, avUSD),
	      datesAvEUR = findDaysWithinAv5(EUR, avEUR),
	      datesAvCHF = findDaysWithinAv5(CHF, avCHF);
	
	  /* Calc correlation from 1999-01-01 until today */
	
	  var calcCorrelation = function calcCorrelation(arr1, arr2, averageVal1, averageVal2) {
	    var a = 0,
	        b = 0,
	        c = 0;
	    var arrLength = arr1.length > arr2.length ? arr2.length - 1 : arr1.length - 1;
	    for (var i = 0; i < arrLength; i++) {
	      var rate1 = arr1[i]['rate'] - averageVal1;
	      var rate2 = arr2[i]['rate'] - averageVal2;
	      a += rate1 * rate2;
	      b += Math.pow(rate1, 2);
	      c += Math.pow(rate2, 2);
	    }
	    var correletion = a / Math.sqrt(b * c);
	    return correletion;
	  };
	
	  /* Between USD/EUR */
	  var corrUsdEur = calcCorrelation(USD, EUR, avUSD, avEUR).toFixed(6);
	
	  /* Between CHF/EUR */
	  var corrChfEur = calcCorrelation(CHF, EUR, avCHF, avEUR).toFixed(6);
	
	  /**
	  ***
	  *** Display data
	  ***
	  **/
	
	  /* min/max */
	  document.querySelector('#min-chf').innerHTML = minRateCHF.toFixed(2);
	  document.querySelector('#max-chf').innerHTML = maxRateCHF.toFixed(2);
	
	  document.querySelector('#min-eur').innerHTML = minRateEUR.toFixed(2);
	  document.querySelector('#max-eur').innerHTML = maxRateEUR.toFixed(2);
	
	  document.querySelector('#min-usd').innerHTML = minRateUSD.toFixed(2);
	  document.querySelector('#max-usd').innerHTML = maxRateUSD.toFixed(2);
	
	  /*average*/
	  document.querySelector('#average-usd').innerHTML = avUSD.toFixed(2);
	  document.querySelector('#average-eur').innerHTML = avEUR.toFixed(2);
	  document.querySelector('#average-chf').innerHTML = avCHF.toFixed(2);
	
	  /* When dates occur */
	  function showDates(arrDates, currency, value) {
	    if (arrDates.length > 1) {
	      var selectedField = document.querySelector('#' + value + '-date-' + currency);
	      var elSelect = document.createElement('select');
	      selectedField.appendChild(elSelect);
	      for (var i = 0; i < arrDates.length; i++) {
	        var elOption = document.createElement('option');
	        elOption.innerHTML = arrDates[i];
	        elSelect.appendChild(elOption);
	      }
	    } else {
	      document.querySelector('#' + value + '-date-' + currency).innerHTML = arrDates;
	    }
	  }
	
	  showDates(datesMinEUR, 'EUR', 'min');
	  showDates(datesMinUSD, 'USD', 'min');
	  showDates(datesMinCHF, 'CHF', 'min');
	
	  showDates(datesMaxEUR, 'EUR', 'max');
	  showDates(datesMaxUSD, 'USD', 'max');
	  showDates(datesMaxCHF, 'CHF', 'max');
	
	  /* Dates whithin average */
	  document.querySelector('#dates-av-USD').innerHTML = datesAvUSD;
	  document.querySelector('#dates-av-EUR').innerHTML = datesAvEUR;
	  document.querySelector('#dates-av-CHF').innerHTML = datesAvCHF;
	
	  /* Correlation */
	  document.querySelector('#corr-usd-eur').innerHTML = corrUsdEur;
	  document.querySelector('#corr-chf-eur').innerHTML = corrChfEur;
	}

/***/ },
/* 1 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZWJlYzJhODg1NGUzNjBiZTBjNjUiLCJ3ZWJwYWNrOi8vLy4uL0Q6L0Zyb250LWVuZCBDb3Vyc2VzL1Byb2plY3RzL2N1cnJlbmN5LWNvbnZlcnRlci9zcmMvanMvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9zY3NzL3N0eWxlLnNjc3MiXSwibmFtZXMiOlsiQ0hGIiwiRVVSIiwiVVNEIiwiZ2V0Q3VycmVuY3kiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJqc29uIiwiZGF0YSIsImNhbGxiYWNrIiwiY2F0Y2giLCJlcnIiLCJtYXAiLCJhcnIiLCJwdXNoIiwicmF0ZXNDSEYiLCJkYXRlIiwicmF0ZSIsInJhdGVzVVNEIiwicmF0ZXNFVVIiLCJtaW5SYXRlQ0hGIiwiTWF0aCIsIm1pbiIsIm1heFJhdGVDSEYiLCJtYXgiLCJtaW5SYXRlRVVSIiwibWF4UmF0ZUVVUiIsIm1pblJhdGVVU0QiLCJtYXhSYXRlVVNEIiwiYXZlcmFnZSIsInJlZHVjZSIsInAiLCJjIiwibGVuZ3RoIiwiYXZVU0QiLCJhdkVVUiIsImF2Q0hGIiwiZmluZERheVJhdGUiLCJyZXN1bHQiLCJpIiwiZGF0ZXNNaW5FVVIiLCJkYXRlc01pblVTRCIsImRhdGVzTWluQ0hGIiwiZGF0ZXNNYXhFVVIiLCJkYXRlc01heFVTRCIsImRhdGVzTWF4Q0hGIiwiZmluZERheXNXaXRoaW5BdjUiLCJhdmVyYWdlVmFsIiwiY3VycmVudFJhdGUiLCJkYXRlc0F2VVNEIiwiZGF0ZXNBdkVVUiIsImRhdGVzQXZDSEYiLCJjYWxjQ29ycmVsYXRpb24iLCJhcnIxIiwiYXJyMiIsImF2ZXJhZ2VWYWwxIiwiYXZlcmFnZVZhbDIiLCJhIiwiYiIsImFyckxlbmd0aCIsInJhdGUxIiwicmF0ZTIiLCJwb3ciLCJjb3JyZWxldGlvbiIsInNxcnQiLCJjb3JyVXNkRXVyIiwidG9GaXhlZCIsImNvcnJDaGZFdXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJzaG93RGF0ZXMiLCJhcnJEYXRlcyIsImN1cnJlbmN5IiwidmFsdWUiLCJzZWxlY3RlZEZpZWxkIiwiZWxTZWxlY3QiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJlbE9wdGlvbiJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7OztBQ3RDQTs7Ozs7Ozs7QUFFQSxLQUFJQSxNQUFNLEVBQVY7QUFBQSxLQUFjQyxNQUFNLEVBQXBCO0FBQUEsS0FBd0JDLE1BQU0sRUFBOUI7O0FBRUE7QUFDQSxVQUFTQyxXQUFULEdBQXVCO0FBQ3JCQyxTQUFNLHNCQUFOLEVBQ0NDLElBREQsQ0FFRSxVQUFTQyxRQUFULEVBQW1CO0FBQ2pCLFNBQUlBLFNBQVNDLE1BQVQsS0FBb0IsR0FBeEIsRUFBNkI7QUFDM0JDLGVBQVFDLEdBQVIsZ0VBQ0lILFNBQVNDLE1BRGI7QUFFRDtBQUNERCxjQUFTSSxJQUFULEdBQWdCTCxJQUFoQixDQUNFLFVBQVNNLElBQVQsRUFBZTtBQUNiQyxnQkFBU0QsSUFBVDtBQUNILE1BSEQ7QUFJRCxJQVhILEVBYUNFLEtBYkQsQ0FhTyxVQUFTQyxHQUFULEVBQWM7QUFDbkJOLGFBQVFDLEdBQVIsQ0FBWSxpQkFBWixFQUErQkssR0FBL0I7QUFDRCxJQWZEO0FBZ0JEOztBQUVEWDs7QUFFQTtBQUNBLFVBQVNTLFFBQVQsQ0FBbUJELElBQW5CLEVBQXlCO0FBQ3ZCQSxRQUFLSSxHQUFMLENBQVMsVUFBQ0MsR0FBRCxFQUFTO0FBQ2hCLFNBQUlBLElBQUksQ0FBSixDQUFKLEVBQVk7QUFDVixXQUFJQSxJQUFJLENBQUosRUFBTyxLQUFQLENBQUos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S0FBdkIsRUFBOEIsS0FBOUI7O0FBRUE7QUFDQXVCLFlBQVNDLGFBQVQsQ0FBdUIsZUFBdkIsRUFBd0NDLFNBQXhDLEdBQW9EckIsVUFBcEQ7QUFDQW1CLFlBQVNDLGFBQVQsQ0FBdUIsZUFBdkIsRUFBd0NDLFNBQXhDLEdBQW9EcEIsVUFBcEQ7QUFDQWtCLFlBQVNDLGFBQVQsQ0FBdUIsZUFBdkIsRUFBd0NDLFNBQXhDLEdBQW9EbkIsVUFBcEQ7O0FBRUE7QUFDQWlCLFlBQVNDLGFBQVQsQ0FBdUIsZUFBdkIsRUFBd0NDLFNBQXhDLEdBQW9ETCxVQUFwRDtBQUNBRyxZQUFTQyxhQUFULENBQXVCLGVBQXZCLEVBQXdDQyxTQUF4QyxHQUFvREgsVUFBcEQ7QUFDRCxFOzs7Ozs7QUNyTUQsMEMiLCJmaWxlIjoianMvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBlYmVjMmE4ODU0ZTM2MGJlMGM2NSIsImltcG9ydCBzdHlsZXMgZnJvbSAnLi4vc2Nzcy9zdHlsZS5zY3NzJztcclxuXHJcbmxldCBDSEYgPSBbXSwgRVVSID0gW10sIFVTRCA9IFtdO1xyXG5cclxuLyogR2V0IGRhdGEgKi9cclxuZnVuY3Rpb24gZ2V0Q3VycmVuY3koKSB7XHJcbiAgZmV0Y2goJy4vanNvbi9jdXJyZW5jeS5qc29uJykgIFxyXG4gIC50aGVuKFxyXG4gICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYExvb2tzIGxpa2UgdGhlcmUgd2FzIGEgcHJvYmxlbS4gU3RhdHVzIENvZGU6ICBcclxuICAgICAgICAgICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKFxyXG4gICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICB9KTsgIFxyXG4gICAgfSAgXHJcbiAgKVxyXG4gIC5jYXRjaChmdW5jdGlvbihlcnIpIHsgIFxyXG4gICAgY29uc29sZS5sb2coJ0ZldGNoIEVycm9yIDotUycsIGVycik7ICBcclxuICB9KTtcclxufVxyXG5cclxuZ2V0Q3VycmVuY3koKTtcclxuXHJcbi8qINChcmVhdGluZyBhcnJheXMgd2l0aCBjdXJyZW5jaWVzICovXHJcbmZ1bmN0aW9uIGNhbGxiYWNrIChkYXRhKSB7XHJcbiAgZGF0YS5tYXAoKGFycikgPT4ge1xyXG4gICAgaWYgKGFyclswXSkge1xyXG4gICAgICBpZiAoYXJyWzBdWydDSEYnXSkge1xyXG4gICAgICAgIENIRi5wdXNoKGFyclswXVsnQ0hGJ10pXHJcbiAgICAgIH0gZWxzZSBpZiAoYXJyWzBdWydVU0QnXSkge1xyXG4gICAgICAgIFVTRC5wdXNoKGFyclswXVsnVVNEJ10pXHJcbiAgICAgIH0gZWxzZSBpZiAoYXJyWzBdWydFVVInXSkge1xyXG4gICAgICAgIEVVUi5wdXNoKGFyclswXVsnRVVSJ10pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChhcnJbMV0pIHtcclxuICAgICAgaWYgKGFyclsxXVsnQ0hGJ10pIHtcclxuICAgICAgICBDSEYucHVzaChhcnJbMV1bJ0NIRiddKVxyXG4gICAgICB9IGVsc2UgaWYgKGFyclsxXVsnVVNEJ10pIHtcclxuICAgICAgICBVU0QucHVzaChhcnJbMV1bJ1VTRCddKVxyXG4gICAgICB9IGVsc2UgaWYgKGFyclsxXVsnRVVSJ10pIHtcclxuICAgICAgICBFVVIucHVzaChhcnJbMV1bJ0VVUiddKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYXJyWzJdKSB7XHJcbiAgICAgIGlmIChhcnJbMl1bJ0NIRiddKSB7XHJcbiAgICAgICAgQ0hGLnB1c2goYXJyWzJdWydDSEYnXSlcclxuICAgICAgfSBlbHNlIGlmIChhcnJbMl1bJ1VTRCddKSB7XHJcbiAgICAgICAgVVNELnB1c2goYXJyWzJdWydVU0QnXSlcclxuICAgICAgfSBlbHNlIGlmIChhcnJbMl1bJ0VVUiddKSB7XHJcbiAgICAgICAgRVVSLnB1c2goYXJyWzJdWydFVVInXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIC8qIENyZWF0aW5nIGFycmF5cyBvbmx5IHdpdGggcmF0ZXMgKi9cclxuICBsZXQgcmF0ZXNDSEYgPSBDSEYubWFwKChkYXRlKSA9PiB7XHJcbiAgICByZXR1cm4gZGF0ZS5yYXRlO1xyXG4gIH0pO1xyXG4gIFxyXG4gIGxldCByYXRlc1VTRCA9IFVTRC5tYXAoKGRhdGUpID0+IHtcclxuICAgIHJldHVybiBkYXRlLnJhdGU7XHJcbiAgfSk7XHJcblxyXG4gIGxldCByYXRlc0VVUiA9IEVVUi5tYXAoKGRhdGUpID0+IHtcclxuICAgIHJldHVybiBkYXRlLnJhdGU7XHJcbiAgfSk7XHJcblxyXG4gIC8qIENhbGMgbWluL21heCBmb3IgY3VycmVuY2llcyAqL1xyXG4gIGNvbnN0IG1pblJhdGVDSEYgPSBNYXRoLm1pbiguLi5yYXRlc0NIRik7XHJcbiAgY29uc3QgbWF4UmF0ZUNIRiA9IE1hdGgubWF4KC4uLnJhdGVzQ0hGKTtcclxuXHJcbiAgY29uc3QgbWluUmF0ZUVVUiA9IE1hdGgubWluKC4uLnJhdGVzRVVSKTtcclxuICBjb25zdCBtYXhSYXRlRVVSID0gTWF0aC5tYXgoLi4ucmF0ZXNFVVIpO1xyXG5cclxuICBjb25zdCBtaW5SYXRlVVNEID0gTWF0aC5taW4oLi4ucmF0ZXNVU0QpO1xyXG4gIGNvbnN0IG1heFJhdGVVU0QgPSBNYXRoLm1heCguLi5yYXRlc1VTRCk7XHJcblxyXG4gIC8qIENhbGMgYXZlcmFnZSAqL1xyXG4gIGxldCBhdmVyYWdlID0gYXJyID0+IGFyci5yZWR1Y2UoICggcCwgYyApID0+IHAgKyBjLCAwICkgLyBhcnIubGVuZ3RoO1xyXG5cclxuICBsZXQgYXZVU0QgPSBhdmVyYWdlKCBbLi4ucmF0ZXNVU0RdICk7XHJcbiAgbGV0IGF2RVVSID0gYXZlcmFnZSggWy4uLnJhdGVzRVVSXSApO1xyXG4gIGxldCBhdkNIRiA9IGF2ZXJhZ2UoIFsuLi5yYXRlc0NIRl0gKTtcclxuXHJcbiAgLyogRmluZCBkYXRlICovXHJcbiAgbGV0IGZpbmREYXlSYXRlID0gKGFyciwgcmF0ZSkgPT4ge1xyXG4gICAgbGV0IHJlc3VsdCA9IFtdXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgaWYgKGFycltpXVsncmF0ZSddID09PSByYXRlKSByZXN1bHQucHVzaChhcnJbaV1bJ2V4Y2hhbmdlZGF0ZSddKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBsZXQgZGF0ZXNNaW5FVVIgPSBmaW5kRGF5UmF0ZShFVVIsIG1pblJhdGVFVVIpO1xyXG4gIGxldCBkYXRlc01pblVTRCA9IGZpbmREYXlSYXRlKFVTRCwgbWluUmF0ZVVTRCk7XHJcbiAgbGV0IGRhdGVzTWluQ0hGID0gZmluZERheVJhdGUoQ0hGLCBtaW5SYXRlQ0hGKTtcclxuXHJcbiAgbGV0IGRhdGVzTWF4RVVSID0gZmluZERheVJhdGUoRVVSLCBtYXhSYXRlRVVSKTtcclxuICBsZXQgZGF0ZXNNYXhVU0QgPSBmaW5kRGF5UmF0ZShVU0QsIG1heFJhdGVVU0QpO1xyXG4gIGxldCBkYXRlc01heENIRiA9IGZpbmREYXlSYXRlKENIRiwgbWF4UmF0ZUNIRik7XHJcblxyXG4gIC8qIEZpbmQgZGF0ZXMgd2hlbiBleGNoYW5nZSByYXRlIHdhcyB3aXRoaW4gNSUgb24gdGhlIGF2ZXJhZ2UgZXhjaGFuZ2UgcmF0ZSAqL1xyXG4gIGxldCBmaW5kRGF5c1dpdGhpbkF2NSA9IChhcnIsIGF2ZXJhZ2VWYWwpID0+IHtcclxuICAgIGNvbnN0IG1pbiA9IGF2ZXJhZ2VWYWwgLSAoYXZlcmFnZVZhbCAqIDIuNSAvIDEwMCk7XHJcbiAgICBjb25zdCBtYXggPSBhdmVyYWdlVmFsICsgKGF2ZXJhZ2VWYWwgKiAyLjUgLyAxMDApO1xyXG4gICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoLTE7IGkrKykge1xyXG4gICAgICBsZXQgY3VycmVudFJhdGUgPSBhcnJbaV1bJ3JhdGUnXTtcclxuICAgICAgaWYgKG1heCA+IGN1cnJlbnRSYXRlICYmIGN1cnJlbnRSYXRlID4gbWluKSByZXN1bHQucHVzaChhcnJbaV1bJ2V4Y2hhbmdlZGF0ZSddKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgbGV0IGRhdGVzQXZVU0QgPSBmaW5kRGF5c1dpdGhpbkF2NShVU0QsIGF2VVNEKSxcclxuICAgIGRhdGVzQXZFVVIgPSBmaW5kRGF5c1dpdGhpbkF2NShFVVIsIGF2RVVSKSxcclxuICAgIGRhdGVzQXZDSEYgPSBmaW5kRGF5c1dpdGhpbkF2NShDSEYsIGF2Q0hGKTtcclxuXHJcbiAgLyogQ2FsYyBjb3JyZWxhdGlvbiBmcm9tIDE5OTktMDEtMDEgdW50aWwgdG9kYXkgKi9cclxuXHJcbiAgbGV0IGNhbGNDb3JyZWxhdGlvbiA9IChhcnIxLCBhcnIyLCBhdmVyYWdlVmFsMSwgYXZlcmFnZVZhbDIpID0+IHtcclxuICAgIGxldCBhID0gMCwgYiA9IDAsIGMgPSAwO1xyXG4gICAgbGV0IGFyckxlbmd0aCA9IGFycjEubGVuZ3RoID4gYXJyMi5sZW5ndGggPyBhcnIyLmxlbmd0aCAtIDEgOiBhcnIxLmxlbmd0aCAtIDE7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCByYXRlMSA9IGFycjFbaV1bJ3JhdGUnXSAtIGF2ZXJhZ2VWYWwxO1xyXG4gICAgICBsZXQgcmF0ZTIgPSBhcnIyW2ldWydyYXRlJ10gLSBhdmVyYWdlVmFsMjtcclxuICAgICAgYSArPSByYXRlMSAqIHJhdGUyO1xyXG4gICAgICBiICs9IE1hdGgucG93KHJhdGUxLCAyKTtcclxuICAgICAgYyArPSBNYXRoLnBvdyhyYXRlMiwgMik7XHJcbiAgICB9XHJcbiAgICBsZXQgY29ycmVsZXRpb24gPSBhIC8gTWF0aC5zcXJ0KGIgKiBjKTtcclxuICAgIHJldHVybiBjb3JyZWxldGlvbjtcclxuICB9XHJcblxyXG4gIC8qIEJldHdlZW4gVVNEL0VVUiAqL1xyXG4gIGxldCBjb3JyVXNkRXVyID0gKGNhbGNDb3JyZWxhdGlvbihVU0QsIEVVUiwgYXZVU0QsIGF2RVVSKSkudG9GaXhlZCg2KTtcclxuXHJcbiAgLyogQmV0d2VlbiBDSEYvRVVSICovXHJcbiAgbGV0IGNvcnJDaGZFdXIgPSAoY2FsY0NvcnJlbGF0aW9uKENIRiwgRVVSLCBhdkNIRiwgYXZFVVIpKS50b0ZpeGVkKDYpO1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgKioqXHJcbiAgKioqIERpc3BsYXkgZGF0YVxyXG4gICoqKlxyXG4gICoqL1xyXG5cclxuICAvKiBtaW4vbWF4ICovXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21pbi1jaGYnKS5pbm5lckhUTUwgPSBtaW5SYXRlQ0hGLnRvRml4ZWQoMik7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21heC1jaGYnKS5pbm5lckhUTUwgPSBtYXhSYXRlQ0hGLnRvRml4ZWQoMik7XHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtaW4tZXVyJykuaW5uZXJIVE1MID0gbWluUmF0ZUVVUi50b0ZpeGVkKDIpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYXgtZXVyJykuaW5uZXJIVE1MID0gbWF4UmF0ZUVVUi50b0ZpeGVkKDIpO1xyXG5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWluLXVzZCcpLmlubmVySFRNTCA9IG1pblJhdGVVU0QudG9GaXhlZCgyKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWF4LXVzZCcpLmlubmVySFRNTCA9IG1heFJhdGVVU0QudG9GaXhlZCgyKTtcclxuXHJcbiAgLyphdmVyYWdlKi9cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZlcmFnZS11c2QnKS5pbm5lckhUTUwgPSBhdlVTRC50b0ZpeGVkKDIpO1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhdmVyYWdlLWV1cicpLmlubmVySFRNTCA9IGF2RVVSLnRvRml4ZWQoMik7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2F2ZXJhZ2UtY2hmJykuaW5uZXJIVE1MID0gYXZDSEYudG9GaXhlZCgyKTtcclxuXHJcbiAgLyogV2hlbiBkYXRlcyBvY2N1ciAqL1xyXG4gIGZ1bmN0aW9uIHNob3dEYXRlcyhhcnJEYXRlcywgY3VycmVuY3ksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJyRGF0ZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICBsZXQgc2VsZWN0ZWRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3ZhbHVlfS1kYXRlLSR7Y3VycmVuY3l9YCk7XHJcbiAgICAgIGxldCBlbFNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gICAgICBzZWxlY3RlZEZpZWxkLmFwcGVuZENoaWxkKGVsU2VsZWN0KTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJEYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBlbE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgIGVsT3B0aW9uLmlubmVySFRNTCA9IGFyckRhdGVzW2ldO1xyXG4gICAgICAgIGVsU2VsZWN0LmFwcGVuZENoaWxkKGVsT3B0aW9uKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dmFsdWV9LWRhdGUtJHtjdXJyZW5jeX1gKS5pbm5lckhUTUwgPSBhcnJEYXRlcztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNob3dEYXRlcyhkYXRlc01pbkVVUiwgJ0VVUicsICdtaW4nKTtcclxuICBzaG93RGF0ZXMoZGF0ZXNNaW5VU0QsICdVU0QnLCAnbWluJyk7XHJcbiAgc2hvd0RhdGVzKGRhdGVzTWluQ0hGLCAnQ0hGJywgJ21pbicpO1xyXG5cclxuICBzaG93RGF0ZXMoZGF0ZXNNYXhFVVIsICdFVVInLCAnbWF4Jyk7XHJcbiAgc2hvd0RhdGVzKGRhdGVzTWF4VVNELCAnVVNEJywgJ21heCcpO1xyXG4gIHNob3dEYXRlcyhkYXRlc01heENIRiwgJ0NIRicsICdtYXgnKTtcclxuXHJcbiAgLyogRGF0ZXMgd2hpdGhpbiBhdmVyYWdlICovXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGVzLWF2LVVTRCcpLmlubmVySFRNTCA9IGRhdGVzQXZVU0Q7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGVzLWF2LUVVUicpLmlubmVySFRNTCA9IGRhdGVzQXZFVVI7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGVzLWF2LUNIRicpLmlubmVySFRNTCA9IGRhdGVzQXZDSEY7XHJcblxyXG4gIC8qIENvcnJlbGF0aW9uICovXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvcnItdXNkLWV1cicpLmlubmVySFRNTCA9IGNvcnJVc2RFdXI7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvcnItY2hmLWV1cicpLmlubmVySFRNTCA9IGNvcnJDaGZFdXI7XHJcbn1cclxuXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vRDovRnJvbnQtZW5kIENvdXJzZXMvUHJvamVjdHMvY3VycmVuY3ktY29udmVydGVyL3NyYy9qcy9tYWluLmpzIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Njc3Mvc3R5bGUuc2Nzc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9